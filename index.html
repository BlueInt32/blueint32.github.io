<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Daily knowledge extract</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Daily knowledge extract">
<meta property="og:url" content="http://blueint32.github.io/index.html">
<meta property="og:site_name" content="Daily knowledge extract">
<meta property="og:locale" content="fr_FR">
<meta property="article:author" content="BlueInt32">
<meta property="article:tag" content="developpement, fran√ßais, code">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Daily knowledge extract" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Daily knowledge extract</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">√Ä propos</a>
        
          <a class="main-nav-link" href="/contact">Contact</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Rechercher"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blueint32.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-Csharp-la-base-de-l-asynchrone" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/14/Csharp-la-base-de-l-asynchrone/" class="article-date">
  <time class="dt-published" datetime="2021-06-14T05:01:14.000Z" itemprop="datePublished">2021-06-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/06/14/Csharp-la-base-de-l-asynchrone/">C# : la base de l&#39;asynchrone</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>AJA un peu plus pr√©cis√©ment comment fonctionnait le syst√®me de gestion des t√¢ches asynchrones en C#. J‚Äôai d√©couvert <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/">une page de documentation microsoft</a> vraiment bien √©crite pour d√©couvrir (ou red√©couvrir) le sujet en d√©tail. </p>
<p>L‚Äôarticle est fond√© sur l‚Äôanalogie de la pr√©paration d‚Äôun petit d√©jeuner : certaines des t√¢ches ne n√©cessitent pas la pr√©sence constante d‚Äôun cuistot, par exemple pendant que les tartines cuisent dans le grille-pain. On comprend intuitivement que personne de sain d‚Äôesprit ne resterait plant√© devant le grille-pain alors qu‚Äôil est possible de cuire les oeufs et de verser le jus d‚Äôorange en attendant. On parle de t√¢che asynchrone.</p>
<p>En .net, ce concept de t√¢che asynchrone est impl√©ment√© √† l‚Äôaide de l‚Äôobjet <code>Task</code>. Il repr√©sente non pas l‚Äôaction de faire quelque chose (comme le ferait une fonction quelconque) mais plut√¥t le fait qu‚Äôune action est en cours, il s‚Äôagit donc d‚Äôune repr√©sentation de son status. Cela correspond pratiquement √† la notion de promesse en JS.</p>
<p>Concr√®tement, il peut s‚Äôagir d‚Äôun appel √† un service externe. Voici un exemple particuli√®rement utile : </p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">async</span> Task&lt;ImportantData&gt; <span class="title">GetDataAsync</span>(<span class="params"><span class="built_in">int</span> taskNumber</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">await</span> Task.Run(() =&gt;</span><br><span class="line">	&#123;</span><br><span class="line">		Console.WriteLine(<span class="string">&quot;\tLong task start &quot;</span> + taskNumber);</span><br><span class="line">		Thread.Sleep(<span class="number">1000</span>);</span><br><span class="line">		Console.WriteLine(<span class="string">&quot;\tTick &quot;</span> + taskNumber);</span><br><span class="line">		Thread.Sleep(<span class="number">1000</span>);</span><br><span class="line">		Console.WriteLine(<span class="string">&quot;\tTick &quot;</span> + taskNumber);</span><br><span class="line">		Thread.Sleep(<span class="number">1000</span>);</span><br><span class="line">		Console.WriteLine(<span class="string">&quot;\tLong task finish &quot;</span> + taskNumber);</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> ImportantData();</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Un utilisateur de cette m√©thode asynchrone pourra adopter plusieurs strat√©gies, plus ou moins efficaces. </p>
<p>Tout d‚Äôabord il est possible d‚Äôappeler cette m√©thode sans syntaxe particuli√®re comme ceci : </p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">async</span> Task <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Console.WriteLine(<span class="string">&quot;Program start&quot;</span>);</span><br><span class="line">	<span class="keyword">var</span> gettingImportantData1 = SlowService.GetDataAsync(<span class="number">1</span>);</span><br><span class="line">	Console.WriteLine(<span class="string">&quot;Synchronous task&quot;</span>);</span><br><span class="line">	Console.WriteLine(<span class="string">&quot;Program end&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Ici, l‚Äô√©xecution ne va pas se bloquer pour attendre <code>GetDataAsync</code>. Cela veut dire que le programme va se terminer avant m√™me que la t√¢che ait effectu√© son premier ‚Äútick‚Äù : </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Program start</span><br><span class="line">        Long task start 1</span><br><span class="line">Synchronous task</span><br><span class="line">Program end</span><br></pre></td></tr></table></figure>

<p>Autre possibilit√© : attendre.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">async</span> Task <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Console.WriteLine(<span class="string">&quot;Program start&quot;</span>);</span><br><span class="line">	<span class="keyword">var</span> gettingImportantData1 = <span class="keyword">await</span> SlowService.GetDataAsync(<span class="number">1</span>);</span><br><span class="line">	Console.WriteLine(<span class="string">&quot;Synchronous task&quot;</span>);</span><br><span class="line">	Console.WriteLine(<span class="string">&quot;Program end&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Dans ce cas, le programme va suspendre son execution et attendre la fin de la t√¢che longue avant de reprendre : on note cependant que la t√¢che synchr√¥ne est toujours effectu√©e apr√®s la t√¢che longue.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Program start</span><br><span class="line">        Long task start 1</span><br><span class="line">        Tick 1</span><br><span class="line">        Tick 1</span><br><span class="line">        Long task finish 1</span><br><span class="line">Synchronous task</span><br><span class="line">Program end</span><br></pre></td></tr></table></figure>

<p>‚ö†Ô∏è Ici, il est important de noter que pendant l‚Äôex√©cution de la t√¢che longue (avec <code>await</code>), la CLR rel√¢che le thread. Dans un contexte web ou client WPF par exemple, cela signifie que d‚Äôautres actions utilisateurs pourront √™tre prises en charge par ce thread en attendant. Ce n‚Äôest pas du tout n√©gligeable pour la scalabilit√©.</p>
<p>Toujours est-il que notre programme en tant que tel n‚Äôest pas tr√®s optimis√© : en effet, je pr√©f√®rerais largement gagner du temps sur l‚Äô√©xecution de ma t√¢che synchrone et l‚Äôeffectuer en parall√®le de la t√¢che longue. Et qui sait, peut-√™tre voudrais-je appeler deux fois ma t√¢che longue avec d‚Äôautres param√®tres !</p>
<p>C‚Äôest tr√®s simple, il suffit d‚Äôordonnancer les appels de fa√ßon intuitive par rapport aux t√¢ches : </p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">async</span> Task <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Console.WriteLine(<span class="string">&quot;Program start&quot;</span>);</span><br><span class="line">	<span class="keyword">var</span> gettingImportantData1 = SlowService.GetDataAsync(<span class="number">1</span>);</span><br><span class="line">	Console.WriteLine(<span class="string">&quot;Synchronous task&quot;</span>);</span><br><span class="line">	<span class="keyword">await</span> gettingImportantData1;</span><br><span class="line">	Console.WriteLine(<span class="string">&quot;Program end&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>On voit ici qu‚Äôil y a une diff√©rence entre d√©marrer une t√¢che asynchr√¥ne, et forcer l‚Äôattente de la fin de son ex√©cution. L‚Äôobjet <code>Task</code> permet de garder la main sur cela et d‚Äôavoir enfin un programme performant :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Program start</span><br><span class="line">        Long task start 1</span><br><span class="line">Synchronous task</span><br><span class="line">        Tick 1</span><br><span class="line">        Tick 1</span><br><span class="line">        Long task finish 1</span><br><span class="line">Program end</span><br></pre></td></tr></table></figure>

<p>Et comme je l‚Äôavais envisag√©, je peux appeler ma t√¢che longue plusieurs fois en parall√®le : </p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">async</span> Task <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Console.WriteLine(<span class="string">&quot;Program start&quot;</span>);</span><br><span class="line">	<span class="keyword">var</span> gettingImportantData1 = SlowService.GetDataAsync(<span class="number">1</span>);</span><br><span class="line">	<span class="keyword">var</span> gettingImportantData2 = SlowService.GetDataAsync(<span class="number">2</span>);</span><br><span class="line">	Console.WriteLine(<span class="string">&quot;Synchronous task&quot;</span>);</span><br><span class="line">	<span class="keyword">await</span> gettingImportantData1;</span><br><span class="line">	<span class="keyword">await</span> gettingImportantData2;</span><br><span class="line">	Console.WriteLine(<span class="string">&quot;Program end&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Et ainsi obtenir le parallelisme attendu :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Program start</span><br><span class="line">Synchronous task</span><br><span class="line">        Long task start 1</span><br><span class="line">        Long task start 2</span><br><span class="line">        Tick 1</span><br><span class="line">        Tick 2</span><br><span class="line">        Tick 1</span><br><span class="line">        Tick 2</span><br><span class="line">        Long task finish 1</span><br><span class="line">        Long task finish 2</span><br><span class="line">Program end</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://blueint32.github.io/2021/06/14/Csharp-la-base-de-l-asynchrone/" data-id="ckpxlpaxi00048fnf3haq7b9j" data-title="C# : la base de l&#39;asynchrone" class="article-share-link">Partager</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/" rel="tag">C#</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-html-js-astuce-pour-telecharger-un-fichier-depuis-le-browser" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/01/html-js-astuce-pour-telecharger-un-fichier-depuis-le-browser/" class="article-date">
  <time class="dt-published" datetime="2021-06-01T06:58:08.000Z" itemprop="datePublished">2021-06-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/06/01/html-js-astuce-pour-telecharger-un-fichier-depuis-le-browser/">HTML/JS : astuce pour g√©n√©rer un fichier t√©l√©chargeable depuis le browser</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>AJA que les hyperliens HTML pouvaient sp√©cifier un attribut <code>download</code> permettant de forcer le t√©l√©chargement d‚Äôun fichier depuis un lien donn√©.</p>
<p>Certes, les navigateurs ont tendance √† outrepasser ce comportement pour beaucoup de types de fichiers par d√©faut (ils vont par exemple afficher directement une image m√™me si le lien a cet attribut).</p>
<p>Cependant, il est possible d‚Äôutiliser cette technique pour g√©n√©rer un t√©l√©chargement en cr√©ant un hyperlien √† la vol√©e (‚Äúsur la mouche‚Äù, comme on dit dans le milieu).</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;clickHandler()&quot;</span>&gt;</span>Clique moi<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">clickHandler</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> data =</span></span><br><span class="line"><span class="javascript">        <span class="string">&quot;More than cleverness, we need kindness and gentleness. Charlie Chaplin&quot;</span>;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> fileURL = <span class="built_in">window</span>.URL.createObjectURL(<span class="keyword">new</span> Blob([data]));</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> fileLink = <span class="built_in">document</span>.createElement(<span class="string">&quot;a&quot;</span>);</span></span><br><span class="line"></span><br><span class="line">      fileLink.href = fileURL;</span><br><span class="line"><span class="javascript">      fileLink.setAttribute(<span class="string">&quot;download&quot;</span>, <span class="string">&quot;charlie.txt&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.body.appendChild(fileLink);</span></span><br><span class="line">      fileLink.click();</span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.body.removeChild(fileLink);</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Si par exemple des donn√©es JSON sont retourn√©es par une API, il est ainsi parfaitement possible de cr√©er un fichier pour le rendre t√©l√©chargeable √† partir de la cha√Æne de caract√®res.</p>
<p>Par ailleurs, on voit que la fonction utilise un <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/Blob">Blob</a> dont les myst√®res restent encore √† d√©couvrir üôÇ.</p>
<p>En tout cas, c‚Äôest malin !</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blueint32.github.io/2021/06/01/html-js-astuce-pour-telecharger-un-fichier-depuis-le-browser/" data-id="ckpxlpaxr000d8fnf9b41bxfn" data-title="HTML/JS : astuce pour g√©n√©rer un fichier t√©l√©chargeable depuis le browser" class="article-share-link">Partager</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html/" rel="tag">html</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-JS-une-syntaxe-marrante-pour-filtrer" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/15/JS-une-syntaxe-marrante-pour-filtrer/" class="article-date">
  <time class="dt-published" datetime="2021-05-15T15:01:58.000Z" itemprop="datePublished">2021-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/15/JS-une-syntaxe-marrante-pour-filtrer/">JS : une syntaxe marrante pour filtrer</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>AJA une syntaxe int√©ressante pour filtrer facilement un tableau en fonction de la ‚Äútruthiness‚Äù de ses valeurs.</p>
<p>Imaginons le tableau suivant :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myArray = [<span class="string">&quot;mon&quot;</span>, <span class="literal">NaN</span>, <span class="string">&quot;beau&quot;</span>, <span class="literal">null</span>, <span class="string">&quot;tableau&quot;</span>, <span class="string">&quot;&quot;</span>];</span><br></pre></td></tr></table></figure>

<p>Pour filtrer ce tableau, j‚Äôaurais utilis√© le code suivant :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cleanArray = myArray.filter(<span class="function">(<span class="params">i</span>) =&gt;</span> i);</span><br></pre></td></tr></table></figure>

<p>Car <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter">filter</a> √©value la truthiness de la lambda pour chaque √©l√©ment, cela fonctionne.</p>
<p>Or <a target="_blank" rel="noopener" href="https://stackoverflow.com/a/19903063/1199535">sur stackoverflow</a>, j‚Äôai lu la r√©ponse suivante :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cleanArray = myArray.filter(<span class="built_in">Boolean</span>);</span><br></pre></td></tr></table></figure>

<p>Comment √ßa ? ü§î J‚Äôai tout d‚Äôabord cru qu‚Äôil s‚Äôagissait d‚Äôune syntaxe bizarre que je ne connaissais pas.</p>
<p>Mais en fait, en JS, <code>Boolean</code> n‚Äôest pas seulement un type, c‚Äôest √©galement un constructeur, ou encore une fonction. Et il se trouve que l‚Äôon peut construire un bool√©en en lui fournissant n‚Äôimporte quoi en entr√©e, ce qui donnera √† ce bool√©en la truthiness de la valeur fournie.</p>
<p>En somme, les trois syntaxes suivantes sont √©quivalentes :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cleanArray1 = myArray.filter(<span class="function">(<span class="params">i</span>) =&gt;</span> i);</span><br><span class="line"><span class="keyword">const</span> cleanArray2 = myArray.filter(<span class="function">(<span class="params">i</span>) =&gt;</span> <span class="built_in">Boolean</span>(i));</span><br><span class="line"><span class="keyword">const</span> cleanArray3 = myArray.filter(<span class="built_in">Boolean</span>);</span><br></pre></td></tr></table></figure>

<p>Apr√®s‚Ä¶ Entre nous, √† part pour briller en soci√©t√©, la syntaxe ne me parait pas beaucoup plus lisible, mais c‚Äô√©tait marrant de d√©couvrir cette mani√®re de proc√©der.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blueint32.github.io/2021/05/15/JS-une-syntaxe-marrante-pour-filtrer/" data-id="ckpxlpaxm00078fnf6vhi0z1d" data-title="JS : une syntaxe marrante pour filtrer" class="article-share-link">Partager</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/" rel="tag">JS</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-CSS-comprendre-les-ellipses-de-texte" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/15/CSS-comprendre-les-ellipses-de-texte/" class="article-date">
  <time class="dt-published" datetime="2021-05-15T07:04:22.000Z" itemprop="datePublished">2021-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/15/CSS-comprendre-les-ellipses-de-texte/">CSS : comprendre les ellipses de texte</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>AJA comment fonctionnaient vraiment les ellipses de texte en CSS. A priori, on pourrait croire qu‚Äôil suffirait d‚Äôune ligne de CSS pour les mettre en place. En r√©alit√©, c‚Äôest un tout petit peu plus compliqu√© que √ßa.</p>
<p>En effet, il s‚Äôagit de sp√©cifier au navigateur la chose suivante : ‚Äúsi ce texte est trop long, il ne doit pas d√©passer de son conteneur et afficher trois petits points juste avant de d√©passer‚Äù.</p>
<p>Tout d‚Äôabord, voyons comment le texte se comporte lorsqu‚Äôaucune r√®gle particuli√®re n‚Äôest appliqu√©e :</p>
<p><img src="/2021/05/15/CSS-comprendre-les-ellipses-de-texte/example-1.png"></p>
<p>On constate que, par d√©faut, le moteur CSS applique un ‚Äúwrapping‚Äù, qui donne au texte la propri√©t√© d‚Äôaller automatiquement √† la ligne lorsqu‚Äôil rencontre les bords du conteneur.</p>
<p>Or, notre objectif est que le texte n‚Äôaille pas √† la ligne mais qu‚Äôil soit cach√©. Il faut donc tout d‚Äôabord d√©sactiver ce ‚Äúwrapping‚Äù :</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">white-space</span>: nowrap;</span><br></pre></td></tr></table></figure>

<p><img src="/2021/05/15/CSS-comprendre-les-ellipses-de-texte/example-2.png"></p>
<p>Ensuite, il semble clair que tout ce qui d√©passe doit √™tre rabott√© ! Cela n‚Äôest manifestement pas le cas par d√©faut, il y a donc une nouvelle r√®gle CSS √† ajouter √† notre code :</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">white-space</span>: nowrap;</span><br><span class="line"><span class="attribute">overflow</span>: hidden;</span><br></pre></td></tr></table></figure>

<p><img src="/2021/05/15/CSS-comprendre-les-ellipses-de-texte/example-3.png"></p>
<p>Apparement, le moteur CSS ne veut pas appliquer l‚Äôellipse par d√©faut. En effet, son comportement par d√©faut est ‚Äúclip‚Äù, ce qui signifie que le texte sera coup√© sans autre forme de proc√®s. C‚Äôest peu √©l√©gant. Appliquons notre ellipse ici :</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">white-space</span>: nowrap;</span><br><span class="line"><span class="attribute">overflow</span>: hidden;</span><br><span class="line"><span class="attribute">text-overflow</span>: ellipsis;</span><br></pre></td></tr></table></figure>

<p><img src="/2021/05/15/CSS-comprendre-les-ellipses-de-texte/example-4.png"></p>
<p>Et voil√† ! üòÖ</p>
<p>Ce qu‚Äôil faut retenir de tout √ßa, c‚Äôest que cette derni√®re r√®gle seule ne se ‚Äúmet en route‚Äù que dans le contexte o√π le texte va sortir de son conteneur (<code>white-space: nowrap;</code>) et o√π ce d√©passement est cach√© (<code>overflow: hidden</code>).</p>
<p>Le code des exemples se trouve dans ce <a target="_blank" rel="noopener" href="https://codepen.io/BlueInt32/pen/GRWZVaR">codepen</a>.</p>
<p>Sinon, vous trouverez plus de d√©tail sur <code>text-overflow</code> dans l‚Äôexcellente documentation <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-overflow">MDN Web Docs</a>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blueint32.github.io/2021/05/15/CSS-comprendre-les-ellipses-de-texte/" data-id="ckpxlpaxg00038fnf28wnddwl" data-title="CSS : comprendre les ellipses de texte" class="article-share-link">Partager</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/" rel="tag">css</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html/" rel="tag">html</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Vim-plus-de-flexibilite-avec-vim-surround" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/15/Vim-plus-de-flexibilite-avec-vim-surround/" class="article-date">
  <time class="dt-published" datetime="2021-05-15T06:19:31.000Z" itemprop="datePublished">2021-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/15/Vim-plus-de-flexibilite-avec-vim-surround/">Vim : plus de flexibilit√© avec vim-surround</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>AJA que le plugin Vim de VsCode proposait d‚Äôactiver <a target="_blank" rel="noopener" href="https://github.com/VSCodeVim/Vim#vim-surround">vim-surround</a>, qui est √† l‚Äôorigine un <a target="_blank" rel="noopener" href="https://github.com/tpope/vim-surround">plugin de Vim</a> particuli√®rement pratique. Il fait √©conomiser beaucoup de manipulations.</p>
<p>Voici un exemple de texte :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Texte √† manipuler avec vim.</span><br></pre></td></tr></table></figure>

<p>Sans vim-surround, si on veut mettre les mot <code>manipuler avec vim</code> entre guillemets, en supposant que le curseur se trouve au d√©but de la ligne, la manipulation est la suivante :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wwi&quot;&lt;esc&gt;3ea&quot;</span><br></pre></td></tr></table></figure>

<p>Avec vim-surround, cela devient plus idiomatique :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wwys3w&quot;</span><br></pre></td></tr></table></figure>

<p>Le principe est de n‚Äô√©crire qu‚Äôune fois le caract√®re englobant, et de dire √† vim-surround comment atteindre la fin de l‚Äôexpression √† entourer avec un d√©placement (ici <code>3w</code>)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ys3w&quot;</span><br></pre></td></tr></table></figure>

<p>pourrait √™tre traduit en :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">You Surround 3 Words with &quot;</span><br></pre></td></tr></table></figure>

<p>C‚Äôest d√©j√† une belle √©conomie. Mais je n‚Äôaime personnellement pas beaucoup compter les mots pour les mouvements car ce n‚Äôest pas tr√®s fiable dans du code source. J‚Äôutilise plut√¥t des s√©lections en mode visuel (potentiellement en utilisant la souris).</p>
<p>Heureusement, vim-surround permet d‚Äô√™tre actionn√© √† partir d‚Äôune s√©lection avec <code>S</code> (s majuscule) !</p>
<p>vim-surround fait selon moi vraiment la diff√©rence pour remplacer des caract√®res d√©j√† existant.</p>
<p>Reprenons notre texte modifi√© :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Texte √† &quot;manipuler avec vim&quot;.</span><br></pre></td></tr></table></figure>

<p>Si je veux remplacer les guillemets par des parenth√®ses, la manipulation sans vim-surround est encore une fois fastidieuse :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wwr(eeelr)</span><br></pre></td></tr></table></figure>

<p>Avec vim-surround :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wwcs&quot;)</span><br></pre></td></tr></table></figure>

<p>o√π <code>cs&quot;)</code> pourrait √™tre traduit en</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Change Surround &quot; to )</span><br></pre></td></tr></table></figure>

<p>On obtient alors directement</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Texte √† (manipuler avec vim).</span><br></pre></td></tr></table></figure>

<p>Plut√¥t pratique !</p>
<p>Le petit bonus sympa, c‚Äôest qu‚Äôen utilisant les caract√®res ouvrant <code>(</code> ou <code>[</code> dans l‚Äôexpression de remplacement, vim-surround va automatiquement ins√©rer des espaces √† l‚Äôint√©rieur. Ainsi la commande suivante :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wwcs&quot;(</span><br></pre></td></tr></table></figure>

<p>produira le texte suivant :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Texte √† ( manipuler avec vim ).</span><br></pre></td></tr></table></figure>

<p>Vim, c‚Äôest la vie.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blueint32.github.io/2021/05/15/Vim-plus-de-flexibilite-avec-vim-surround/" data-id="ckpxlpay200128fnfbffldmro" data-title="Vim : plus de flexibilit√© avec vim-surround" class="article-share-link">Partager</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vim/" rel="tag">vim</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vscode/" rel="tag">vscode</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Le-flag-intent-to-add-dans-git-add" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/12/Le-flag-intent-to-add-dans-git-add/" class="article-date">
  <time class="dt-published" datetime="2021-05-12T06:56:51.000Z" itemprop="datePublished">2021-05-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/12/Le-flag-intent-to-add-dans-git-add/">git add -N : marquer des fichiers pour ajout</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>AJA que l‚Äôon pouvait sp√©cifier √† git qu‚Äôon <em>pr√©voyait d‚Äôajouter</em> des fichiers sans forc√©ment les ajouter tout de suite √† l‚Äôindex !</p>
<p>Mais pourquoi voudrait-on faire √ßa ? Eh bien il peut √™tre emb√™tant dans git de faire des diff√©rentiels lorsque certains fichiers viennent d‚Äô√™tre rajout√©s, car ceux-ci seront tout simplement ignor√©s par git tant qu‚Äôil n‚Äôaura pas √©t√© mis au courant que ces fichiers ont un r√¥le dans la base de code (pour autant que git sache, on pourrait tr√®s bien vouloir ajouter ces fichiers dans le <code>.gitignore</code>).</p>
<p>Jusqu‚Äôici, je d√©tournais ce comportement en ajoutant tous les fichiers avec</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br></pre></td></tr></table></figure>

<p>Ainsi, les nouveaux fichiers apparaissaient dans le diff-tool en utilisant le flag <code>--staged</code> :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff-tool --staged</span><br></pre></td></tr></table></figure>

<p>Et je pouvais noter les fichiers que je voulais r√©ellement inclure dans mon commit, avant de faire <code>git reset</code>‚Ä¶ Bref, pas id√©al. L‚Äôennui avec cette approche, c‚Äôest que l‚Äôop√©ration naturelle qui consiste √† ajouter certains fichiers au fur √† mesure de l‚Äôanalyse du diff√©rentiel n‚Äôest plus possible car tous les fichiers sont d√©j√† dans l‚Äôindex‚Ä¶</p>
<p>Mais √ßa, c‚Äô√©tait avant. Il est possible de sp√©cifier √† git que des fichiers vont √™tre ajout√©s, sans les ajouter concr√®tement tout de suite √† l‚Äôindex :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git add --intent-to-add .</span><br><span class="line"> ou</span><br><span class="line">$ git add -N .</span><br></pre></td></tr></table></figure>

<p>Les nouveaux fichiers ont alors bien une entr√©e dans l‚Äôindex, sans contenu effectif : le diff-tool les verra sans qu‚Äôils soient encore concr√®tement dans l‚Äôindex. C‚Äôest du temps de gagn√© ! <img src="/2021/05/12/Le-flag-intent-to-add-dans-git-add/joy.png"></p>
<p>Pour plus d‚Äôinfo sur les options de <code>git add</code>dans la doc officielle <a target="_blank" rel="noopener" href="https://git-scm.com/docs/git-add">ici</a>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blueint32.github.io/2021/05/12/Le-flag-intent-to-add-dans-git-add/" data-id="ckpxlpaxn00088fnf25u341k7" data-title="git add -N : marquer des fichiers pour ajout" class="article-share-link">Partager</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/" rel="tag">git</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Syntaxe-alternative-pour-tests-exceptions-csharp" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/12/Syntaxe-alternative-pour-tests-exceptions-csharp/" class="article-date">
  <time class="dt-published" datetime="2021-05-12T06:36:56.000Z" itemprop="datePublished">2021-05-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/12/Syntaxe-alternative-pour-tests-exceptions-csharp/">C# : Syntaxe alternative pour les tests d&#39;exception</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>AJA qu‚Äôil existait une alternative pour tester les exceptions en C#. Depuis toujours j‚Äôutilisais la syntaxe suivante :</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">TestMethod</span>]</span><br><span class="line">[<span class="meta">ExpectedException(typeof(DivideByZeroException))</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Division_ShouldThrowIfDividedByZero</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> c = a / b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Cette syntaxe est assez limit√©e car elle ne permet pas d‚Äôeffectuer d‚Äôassertions sur l‚Äôexception lev√©e pendant l‚Äôex√©cution du test.</p>
<p>Certes, on peut ins√©rer un bloc try/catch et effectuer des assertions comme ceci:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">TestMethod</span>]</span><br><span class="line">[<span class="meta">ExpectedException(typeof(DivideByZeroException))</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Division_ShouldThrowIfDividedByZero</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">var</span> b = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">var</span> c = a / b;</span><br><span class="line">    &#125;</span><br><span class="line">    catch(Exception e)</span><br><span class="line">    &#123;</span><br><span class="line">        Assert.AreEqual(<span class="string">&quot;Attempted to divide by zero.&quot;</span>, e.Message);</span><br><span class="line">        <span class="keyword">throw</span>; <span class="comment">// throw n√©c√©ssaire pour que le d√©corateur Expected soit honor√©</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Mais ce n‚Äôest pas tr√®s √©l√©gant üò¢.</p>
<p>Or il existe une autre syntaxe bien plus pratique :</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">TestMethod</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Division_ShouldThrowIfDividedByZero</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ex = Assert.ThrowsException&lt;DivideByZeroException&gt;(() =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">var</span> b = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">var</span> c = a / b;</span><br><span class="line">    &#125;);</span><br><span class="line">    Assert.AreEqual(<span class="string">&quot;Attempted to divide by zero.&quot;</span>, ex.Message);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>La lisibilit√© des tests est am√©lior√©e, les code reviews sont plus sereines et le monde se porte mieux. üåà</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blueint32.github.io/2021/05/12/Syntaxe-alternative-pour-tests-exceptions-csharp/" data-id="ckpxlpay1000z8fnfej4l742u" data-title="C# : Syntaxe alternative pour les tests d&#39;exception" class="article-share-link">Partager</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/" rel="tag">C#</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-VueJs-et-les-Web-components" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/08/VueJs-et-les-Web-components/" class="article-date">
  <time class="dt-published" datetime="2021-05-08T05:29:50.000Z" itemprop="datePublished">2021-05-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/08/VueJs-et-les-Web-components/">Les web components et les frameworks JS</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>AJA la distinction entre <a target="_blank" rel="noopener" href="https://vuejs.org/v2/guide/components.html">un composant VueJs</a> et un <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/Web_Components">web component</a>.</p>
<p>Quand on d√©marre un projet en VueJs (ou React ou Angular), les composants que l‚Äôon cr√©e sont √©crits dans la syntaxe propre √† ce framework. C‚Äôest efficace si l‚Äôon travaille toujours dans ce framework, on peut par exemple r√©utiliser <a target="_blank" rel="noopener" href="https://vuejsexamples.com/tag/switch/">notre module VueSwitch</a> entre plusieurs projets VueJs. Mais ces composants ne sont pas directement r√©utilisables dans d‚Äôautres projets n‚Äôutilisant pas VueJs. C‚Äôest un probl√®me que les web components natifs peuvent r√©soudre.</p>
<p>En effet, les web components constituent une technologie native des navigateurs web et ne d√©pendent pas d‚Äôun framework javascript particulier pour fonctionner. Ils peuvent encapsuler leur code HTML, JS, CSS propres, en isolation (c‚Äôest √† dire qu‚Äôil n‚Äôy aura par exemple pas de conflit entre le CSS d√©fini dans ce web component et le CSS de la page qui l‚Äôh√©berge).</p>
<p>Il n‚Äôest pas forc√©ment tr√®s pratique de d√©finir un web component √† partir de rien : toute la logique doit √™tre d√©velopp√©e sur place et cela peut s‚Äôav√©rer fastidieux en mode ‚ÄúVanilla JS‚Äù, a fortiori sans l‚Äôassistance d‚Äôun framework tel que VueJs embarquant des utilitaires pour la r√©activit√© et le concept de cycle de vie, par exemple .</p>
<p>Enfin, le CLI de VueJs embarque <a target="_blank" rel="noopener" href="https://cli.vuejs.org/guide/build-targets.html#web-component">la possibilit√© d‚Äôextraire un web component √† partir d‚Äôun composant VueJs</a> mais ce composant aura toujours une d√©pendance sur le framework VueJs, ce qui perd beaucoup de son int√©r√™t.</p>
<p>Chez Github, ils ont fait le choix de <a target="_blank" rel="noopener" href="https://github.blog/2021-05-04-how-we-use-web-components-at-github/">d√©velopper directement en natif</a>, ce qui ne les enferme pas trop dans un paradigme de programmation Front-end, mais √† quel prix ?</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blueint32.github.io/2021/05/08/VueJs-et-les-Web-components/" data-id="ckpxlpaxp000b8fnf7yei8lx0" data-title="Les web components et les frameworks JS" class="article-share-link">Partager</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html/" rel="tag">html</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vuejs/" rel="tag">vuejs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web-components/" rel="tag">web components</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Recuperation-de-la-branche-active-dans-bash" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/05/Recuperation-de-la-branche-active-dans-bash/" class="article-date">
  <time class="dt-published" datetime="2021-05-05T17:31:54.000Z" itemprop="datePublished">2021-05-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/05/Recuperation-de-la-branche-active-dans-bash/">git bash : Injection du nom de la branche git active</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>AJA que je pouvais √©conomiser 4 secondes √† chaque fois que je veux <code>push</code> une branche √† distance !</p>
<p>En effet, dans le cadre profesionnel, je suis souvent amen√© √† cr√©er des noms de branches du genre :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -d JIRA-14523-nom-de-nouvelle-branche-tres-tres-long</span><br></pre></td></tr></table></figure>

<p>Pour cr√©er la branche, je n‚Äôai pas le choix, je dois tout √©crire au moins une fois.</p>
<p>Mais √† la fin de la journ√©e, je trouve p√©nible de devoir le retaper, typiquement lorsque je dois <code>push</code> ma branche pour faire la pull-request :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push -u origin nom-de-nouvelle-branche-tres-tres-long</span><br></pre></td></tr></table></figure>

<p>Dans git bash, le nom de la branche courante est affich√© dans le prompt donc je peux toujours la copier/coller, mais je pr√©f√®re garder les mains sur le clavier quand j‚Äôutilise le terminal.</p>
<p>Pour r√©gler ce grave probl√®me üòè, on peut cr√©er un alias dans le fichier <code>.bashrc</code> du compte de la machine :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> cb=<span class="string">&#x27;git symbolic-ref HEAD --short&#x27;</span></span><br></pre></td></tr></table></figure>

<p>Ce qui permet de r√©cup√©rer le nom de la branche courante sans le retaper :</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cb</span></span><br><span class="line">JIRA-14523-nom-de-nouvelle-branche-tres-tres-long</span><br></pre></td></tr></table></figure>

<p>En revanche, il n‚Äôest pas possible d‚Äôinjecter tel quel cet alias dans une commande git car git penserait qu‚Äôil s‚Äôagit d‚Äôun nom de branche et va remonter une erreur. Pour palier √† cela, il suffit d‚Äôentourer l‚Äôalias avec des `backquotes` :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push -u origin `cb`</span><br></pre></td></tr></table></figure>

<p>Et voil√†, plus besoin de prendre la souris pour copier le nom de la branche !</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blueint32.github.io/2021/05/05/Recuperation-de-la-branche-active-dans-bash/" data-id="ckpxlpaxp000a8fnfddum5b9k" data-title="git bash : Injection du nom de la branche git active" class="article-share-link">Partager</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/bash/" rel="tag">bash</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/" rel="tag">git</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Git-squash-sur-plusieurs-commits" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/05/Git-squash-sur-plusieurs-commits/" class="article-date">
  <time class="dt-published" datetime="2021-05-05T17:18:13.000Z" itemprop="datePublished">2021-05-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/05/Git-squash-sur-plusieurs-commits/">git cherry-pick -n : Rapatrier et faire un squash de plusieurs commits</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>AJA que l‚Äôon pouvait appliquer les changements d‚Äôune s√©rie de commits sans les enregistrer, pour faire un genre de squash √† la vol√©e.</p>
<p>Le sc√©nario typique pour faire cette manip est le suivant. Vous avez une s√©rie de commits sur votre branche <code>main</code>, et vous voulez appliquer l‚Äôensemble des patchs sur une branche de prod pour un hotfix avec un unique commit qui r√©unit tous les changements.</p>
<p>Sur la branche main :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">commit 1 -&gt; commit 2 -&gt; commit 3</span><br><span class="line">316e63c     ab0f801     3ae6aa6</span><br></pre></td></tr></table></figure>

<p>Mais vous voulez obtenir sur la branche <code>HF</code> :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">commits 1 + 2 + 3</span><br><span class="line">xxxxxxxx</span><br></pre></td></tr></table></figure>

<p>La commande git <a target="_blank" rel="noopener" href="https://git-scm.com/docs/git-cherry-pick">cherry-pick</a> permet d‚Äôappliquer les changements d‚Äôun set de commits sans les enregistrer, avec le flag <code>-n</code> :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git cherry-pick -n 316e63c ab0f801 3ae6aa6</span><br></pre></td></tr></table></figure>

<p>Les changements sont dans le stage de git, il ne reste plus qu‚Äô√† faire le commit avec un nouveau message probablement plus appropri√© pour une branche de hotfix.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blueint32.github.io/2021/05/05/Git-squash-sur-plusieurs-commits/" data-id="ckpxlpaxl00068fnf3rpk17zl" data-title="git cherry-pick -n : Rapatrier et faire un squash de plusieurs commits" class="article-share-link">Partager</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/" rel="tag">git</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Suivant &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Mot-cl√©s</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS/" rel="tag">JS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bash/" rel="tag">bash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/" rel="tag">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/" rel="tag">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/typescript/" rel="tag">typescript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/" rel="tag">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/" rel="tag">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/" rel="tag">vuejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-components/" rel="tag">web components</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">juin 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">mai 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles r√©cents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/06/14/Csharp-la-base-de-l-asynchrone/">C# : la base de l&#39;asynchrone</a>
          </li>
        
          <li>
            <a href="/2021/06/01/html-js-astuce-pour-telecharger-un-fichier-depuis-le-browser/">HTML/JS : astuce pour g√©n√©rer un fichier t√©l√©chargeable depuis le browser</a>
          </li>
        
          <li>
            <a href="/2021/05/15/JS-une-syntaxe-marrante-pour-filtrer/">JS : une syntaxe marrante pour filtrer</a>
          </li>
        
          <li>
            <a href="/2021/05/15/CSS-comprendre-les-ellipses-de-texte/">CSS : comprendre les ellipses de texte</a>
          </li>
        
          <li>
            <a href="/2021/05/15/Vim-plus-de-flexibilite-avec-vim-surround/">Vim : plus de flexibilit√© avec vim-surround</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 BlueInt32<br>
      Propuls√© par <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">√Ä propos</a>
  
    <a href="/contact" class="mobile-nav-link">Contact</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>